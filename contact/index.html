<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Get in touch with Aquaridge Plumbing for any worries or concerns you have about the plumbing you have installed in your house. This website will give you a form to fill in.">
<title>Aquaridge Plumbing | Contact Our Plumbers</title>
<link rel="sitemap" type="application/xml" href="https://www.aquaridgeplumbing.com/contact/sitemap.xml" />
<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="stylesheet" href="style.css">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="msapplication-TileColor" content="#009688"> 
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><!--CREATE LATER-->
<meta name="msapplication-TileImage" content="/ms-icon-150x150.png"><!--CREATE LATER-->
<meta name="msapplication-TileImage" content="/ms-icon-310x310.png"><!--CREATE LATER-->
<meta name="msapplication-TileImage" content="/ms-icon-70x70.png"><!--CREATE LATER-->
<meta property="og:image" content="/AquaridgePlumbing_Open_Graph_Image.png" /><!--CREATE LATER-->
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:title" content="Aquaridge Plumbing" />
<meta property="og:description" content="Got a leaking pipe? Or a dripping tap? We'll sort it out, just get in touch at www.aquaridgeplumbing.com" />
<meta property="og:url" content="https://www.aquaridgeplumbing.com/" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Aquaridge Plumbing">
<meta name="twitter:description" content="Got a leaking pipe? Or a dripping tap? We'll sort it out, just get in touch at www.aquaridgeplumbing.com">
<meta name="twitter:image" content="/x-icon.png">
<script type="text/javascript" src="//widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js" async></script>
</head>



<!-- Main website content -->
<body onload="document.body.style.opacity='1';">
<div id="main-content">
    <header>
        <div class="header-content">
<!-- Gold Menu -->
<nav class="gold-menu-container">
    <button class="gold-menu-button" onclick="toggleMenu()">â˜°</button>
    <div id="menu-overlay" class="menu-overlay">
        <h3 style="font-size: 20px; color: #E5FFFD;">Main</h3>
        <a href="https://www.aquaridgeplumbing.com/">Home</a>
        <a href="https://www.aquaridgeplumbing.com/pricing/">Pricing</a>
        <a href="https://www.aquaridgeplumbing.com/contact/">Contact</a>
        <a href="https://www.aquaridgeplumbing.com/contact/speed_dial/">Speed Dial</a>
    </div>
</nav>
<!-- Company Name -->
<h1>Aquaridge Plumbing</h1>
<!-- Company Logo -->
<a href="https://www.aquaridgeplumbing.com/">
    <img src="AquaridgePlumbingLogo2_Transparent.png" alt="Aquaridge Plumbing Logo" onerror="this.onerror=null; this.src='Error_Image.png';" class="logo">
</a>
        </div>
    </header>
</div>
<!-- JavaScript -->
<script>
    function toggleMenu() {
        const menu = document.getElementById('menu-overlay');
        if (menu.classList.contains('active')) {
            menu.style.opacity = '0'; // Fade out
            setTimeout(() => {
                menu.style.display = 'none'; // Hide after fade-out
                menu.classList.remove('active'); // Remove active class
            }, 300); // Match transition duration
        } else {
            menu.style.display = 'flex'; // Show before fading in
            setTimeout(() => {
                menu.classList.add('active'); // Add active class for fade-in
                menu.style.opacity = '1'; // Trigger fade-in
            }, 10); // Delay for smooth transition
        }
    }

    // Smooth scrolling script
    function scrollToSection(sectionId) {
        const section = document.getElementById(sectionId);
        if (section) {
            section.scrollIntoView({ behavior: 'smooth' });
        }
    }
    
// List of metals names
const metals = [
    "Contact", "contact", "Contact page", "contact page", "Contact-page", "contact-page",
];

const AIRTABLE_API_KEY = "patma2GleJcx1ihQB.19176128fba7a33a7a701f42ed06c284cbce979bf9dfe339027e52b1b1df8d7f";
const AIRTABLE_BASE_ID = "appRVFcrr9bgxraGU";
const AIRTABLE_TABLE_NAME = "Website%20Traffic";

// Store the recordId in a variable to use it later for deletion
let recordId = null;

// Function to generate a random metals-based user ID
function generateUserId() {
  const randomMetals = metals[Math.floor(Math.random() * metals.length)];
  const uniqueNumber = Date.now().toString().slice(-6); // Adds a unique number
  return `${randomMetals}-${uniqueNumber}`;
}

// Function to send data to Airtable and return recordId
async function sendToAirtable(userId) {
  const url = `https://api.airtable.com/v0/${AIRTABLE_BASE_ID}/${AIRTABLE_TABLE_NAME}`;
  
  const data = {
    fields: {
      User: userId,
    }
  };

  try {
    const response = await fetch(url, {
      method: "POST",
      headers: {
        "Authorization": `Bearer ${AIRTABLE_API_KEY}`,
        "Content-Type": "application/json"
      },
      body: JSON.stringify(data)
    });

    if (response.ok) {
      const result = await response.json();
      recordId = result.id; // Store the recordId globally
      console.log("User ID sent to Airtable:", userId);
      console.log("Saved record ID:", recordId);

      // Store recordId in localStorage
      localStorage.setItem("recordId", recordId);
      return recordId; // Return the recordId if needed
    } else {
      console.error("Error sending data to Airtable:", response.status, await response.text());
      return null;
    }
  } catch (error) {
    console.error("Failed to send user ID to Airtable:", error);
    return null;
  }
}

// Function to delete the record from Airtable
async function deleteFromAirtable() {
  const url = `https://api.airtable.com/v0/${AIRTABLE_BASE_ID}/${AIRTABLE_TABLE_NAME}/${recordId}`;
  
  try {
    const response = await fetch(url, {
      method: "DELETE",
      headers: {
        "Authorization": `Bearer ${AIRTABLE_API_KEY}`,
      }
    });

    if (response.ok) {
      console.log("Record deleted successfully");
      // Optionally remove recordId from localStorage
      localStorage.removeItem("recordId");
    } else {
      console.error("Error deleting record:", response.status, await response.text());
    }
  } catch (error) {
    console.error("Failed to delete record:", error);
  }
}

// Main logic to execute on page load
window.onload = async () => {
  const userId = generateUserId();
  console.log("Generated User ID:", userId);

  try {
    const recordId = await sendToAirtable(userId);
    if (recordId) {
      console.log("Record successfully created with ID:", recordId);
    } else {
      console.error("Failed to create record");
    }
  } catch (error) {
    console.error("Failed to send user ID to Airtable:", error);
  }
};

// Listen for the console log message to trigger the DELETE request
const originalLog = console.log;
console.log = function(message, ...args) {
  originalLog(message, ...args);

  if (message === "The user opted out of optional cookies") {
    // Delete the record from Airtable if the message matches
    if (recordId) {
      deleteFromAirtable();
    }
  }
};

// Cookie Notice
document.addEventListener("DOMContentLoaded", () => {
  const cookieOverlay = document.getElementById("cookie-overlay");
  const whiteOverlay = document.getElementById("white-overlay");
  const managePreferencesOverlay = document.getElementById("manage-preferences-overlay");
  const acceptButton = document.querySelector(".btn.accept");
  const manageButton = document.querySelector(".btn.manage");
  const backButton = document.querySelector(".btn.back");
  const saveButton = document.querySelector(".btn.save");

  // Initially, the manage preferences overlay is hidden
  managePreferencesOverlay.style.display = "none";

  // Check if the overlay has been shown in this session
  if (!sessionStorage.getItem("cookieOverlayShown")) {
    // Display the cookie overlay after 5 seconds
    setTimeout(() => {
      cookieOverlay.classList.remove("hidden");
      cookieOverlay.classList.add("visible");
      sessionStorage.setItem("cookieOverlayShown", "true"); // Mark as shown
    }, 5000);
  }

  // Handle the "Accept" button click
  acceptButton.addEventListener("click", () => {
    // Hide the cookie overlay
    cookieOverlay.classList.remove("visible");
    cookieOverlay.style.display = "none";

    // Show the white overlay
    whiteOverlay.style.display = "block";

    // Hide the white overlay after 2 seconds
    setTimeout(() => {
      whiteOverlay.style.display = "none";
    }, 2000);
  });

  // Show the "Manage Preferences" overlay on button click
  manageButton.addEventListener("click", () => {
    managePreferencesOverlay.style.display = "flex"; // Show the preferences overlay
    managePreferencesOverlay.classList.remove("hidden");
  });

  // Hide the "Manage Preferences" overlay on "Back" button click
  backButton.addEventListener("click", () => {
    managePreferencesOverlay.style.display = "none"; // Hide the preferences overlay
    managePreferencesOverlay.classList.add("hidden");
  });

  // Save preferences and hide the "Manage Preferences" overlay on "Save & Exit" button click
  saveButton.addEventListener("click", () => {
    // Hide the cookie overlay
    cookieOverlay.classList.remove("visible");
    cookieOverlay.style.display = "none";
    // Show the white overlay
    whiteOverlay.style.display = "block";
    managePreferencesOverlay.style.display = "none"; // Hide the preferences overlay
    managePreferencesOverlay.classList.add("hidden");
    // Hide the white overlay after 2 seconds
    setTimeout(() => {
      whiteOverlay.style.display = "none";
    }, 2000);
  });
});
    
document.addEventListener("DOMContentLoaded", () => {
  const analyticsToggle = document.getElementById("analytics-toggle");
  const adsToggle = document.getElementById("ads-toggle");

  // Listen for changes on both toggles
  analyticsToggle.addEventListener("change", handleToggleChange);
  adsToggle.addEventListener("change", handleToggleChange);

  function handleToggleChange() {
    // Log the message when any toggle is changed
    console.log("The user opted out of optional cookies");
  }
});
</script>
<script src="script.js" defer></script>


<div id="cookie-overlay" class="hidden">
  <div class="cookie-content">
    <h2 style="color: #009688;">Cookie Consent</h2>
    <div class="cookie-text"style="background: #FFFFFF;">
      <p>
        We use cookies to personalise content and ads, to provide social media features, 
        and to analyse our traffic. We might also share information about your use of our site 
        with our social media, advertising, and analytics partners. For details, please review our 
        <a href="FILL_IN_LATER">Privacy Policy</a>.
      </p>
      <br>
      <p>
        Cookies help us improve your experience. You can manage your preferences or 
        accept all cookies by selecting the respective options below.
      </p>
    </div>
    <div class="cookie-buttons">
      <button class="btn manage">Manage Preferences</button>
      <button class="btn accept">Accept</button>
    </div>
  </div>
</div>

<!-- Accept Button Response -->
<div id="white-overlay">
  <p>Changes successfully saved!</p>
</div>
    
<!-- Manage Preference Button Response -->
<div id="manage-preferences-overlay" class="hidden">
  <div class="manage-content">
    <h2>Manage Preferences</h2>
    <h3 style="color: #000000;">Which settings would you like to change?</h3>
    <div class="preferences-section">
      <label class="toggle-wrapper">
        <span>Enable Analytics Cookies</span>
        <input type="checkbox" class="toggle-input" id="analytics-toggle" checked>
        <span class="toggle-slider"></span>
      </label>
      <label class="toggle-wrapper">
        <span>Enable Personalised Ads</span>
        <input type="checkbox" class="toggle-input" id="ads-toggle" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="manage-buttons">
      <button class="btn back">Back</button>
      <button class="btn save">Save & Exit</button>
    </div>
  </div>
</div>
<div id="content">
<div class="contactform">
<form id="userForm">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <label for="phone">Phone Number:</label>
    <input type="tel" id="phone" name="phone" required>

    <label for="phone">Message:</label>
    <input type="text" id="message" name="message" required>

    <button class="roundbutton" type="submit" id="submitButton">Submit</button>
    <p id="alertMessage"></p>
</form>
</div>
<style>
.contactform{
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
    
.userForm {
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f4f4f4;
}

form {
    background: #f4f4f4;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    width: 300px;
    display: flex;
    flex-direction: column;
}

label {
    margin-top: 10px;
}

input {
    padding: 8px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.roundbutton {
    margin-top: 15px;
    background-color: #00CCB9;
    color: white;
    border: none;
    padding: 10px;
    border-radius: 5px;
    cursor: pointer;
}

.roundbutton:hover {
    background-color: #0A2919;
}
</style>
<script>
document.getElementById("userForm").addEventListener("submit", function (event) {
    event.preventDefault(); // Prevent default form submission

    let name = document.getElementById("name").value.trim();
    let email = document.getElementById("email").value.trim();
    let phone = document.getElementById("phone").value.trim();
    let message = document.getElementById("message").value.trim();
    let submitButton = document.getElementById("submitButton");
    let alertMessage = document.getElementById("alertMessage");

    if (!name || !email || !phone || !message) {
        alertMessage.textContent = "Please fill in all fields.";
        alertMessage.style.color = "red";
        return;
    }

    // Disable the submit button to prevent multiple submissions
    submitButton.disabled = true;
    submitButton.textContent = "Submitting...";

    let formData = {
        records: [
            {
                fields: {
                    Name: name,
                    Email: email,
                    Phone: phone,
                    Message: message
                }
            }
        ]
    };

    fetch("https://api.airtable.com/v0/appRVFcrr9bgxraGU/Contact%20Form", {
        method: "POST",
        headers: {
            "Authorization": "Bearer patV7GJaIPf1nmdjZ.bce781c5558e7d579e14541c546efb728a1a5099c417f9cfa9e7d9180de11c49",
            "Content-Type": "application/json"
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        alertMessage.textContent = "Form submitted successfully!";
        alertMessage.style.color = "green";
        document.getElementById("userForm").reset();
    })
    .catch(error => {
        alertMessage.textContent = "Error submitting the form. Please try again.";
        alertMessage.style.color = "red";
        console.error("Error:", error);
    })
    .finally(() => {
        submitButton.disabled = false;
        submitButton.textContent = "Submit";
    });
});
</script>
<script type="text/javascript">
  (function(d, t) {
      var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
      v.onload = function() {
        window.voiceflow.chat.load({
          verify: { projectID: '67de60bcfcf169f7d050d7e8' },
          url: 'https://general-runtime.voiceflow.com',
          versionID: 'production',
          voice: {
            url: "https://runtime-api.voiceflow.com"
          }
        });
      }
      v.src = "https://cdn.voiceflow.com/widget-next/bundle.mjs"; v.type = "text/javascript"; s.parentNode.insertBefore(v, s);
  })(document, 'script');
</script>
<footer style="background-color: #009688; color: #E5FFFD;">
<div style="display: flex; justify-content: center;">
    <div style="padding: 40px;">
        <h2 style="color: #0A2919;">Policy</h2>
        <h3><a href="/policy/privacy/" style="color: #E5FFFD; font-size: 20px;">Privacy Policy</a></h3>
        <h3><a href="/policy/general/#Money-Back_Guarantee" style="color: #E5FFFD; font-size: 20px;">Money-Back Guarantee</a></h3><!-- FILL IN LATER-->
        <h3><a href="/policy/general/" style="color: #E5FFFD; font-size: 20px;">General Policy</a></h3>
    </div>
    
    <div style="padding: 40px;">
        <h2 style="color: #0A2919;">Support</h2>
        <h3><a href="/contact/" style="color: #E5FFFD; font-size: 20px;">Contact</a></h3>
        <h3><a id="AIAssistance" style="color: #E5FFFD; font-size: 20px; cursor: pointer;"><u>AI Assistance</u></a></h3>
    </div>
</div> 
<script>
document.getElementById('AIAssistance').addEventListener('click', () => {
    (function(d, t) {
      var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function() {
            // Initialize Voiceflow chat
            window.voiceflow.chat.load({
                verify: { projectID: '67de60bcfcf169f7d050d7e8' },
                url: 'https://general-runtime.voiceflow.com',
                versionID: 'production',
                showInitialMessage: false,
                showLauncher: false
            }).then(() => {
                console.log('Voiceflow chat loaded successfully.');

                window.voiceflow.chat.open();
                console.log('Chat opened.');

                const removeLauncher = () => {
                    const launcher = document.querySelector('.vf-chat-launcher');
                    if (launcher) {
                        launcher.remove();
                        console.log('Launcher removed.');
                    }
                };

                removeLauncher();
                setInterval(removeLauncher, 1000);
            }).catch((error) => {
                console.error('Error loading Voiceflow chat:', error);
            });
        };
        v.src = 'https://cdn.voiceflow.com/widget-next/bundle.mjs';
        v.type = 'module';
        s.parentNode.insertBefore(v, s);
    })(document, 'script');
});
</script>
</footer>
</div>
</body>
</html>
